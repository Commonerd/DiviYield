<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="google-site-verification"
      content="U-GWwZOKUY-FqRJYQu4ealLEaLnFK4WTKgDI7SCbS3E"
    />
    <title>DiviYield | 나만의 배당금 파이프라인 시뮬레이터</title>
    <meta
      name="description"
      content="DiviYield에서 월 목표 배당금을 위한 필요 투자 원금과 달성 시점을 초간단으로 시뮬레이션하세요. 재정적 자유를 위한 나만의 배당 파이프라인 구축!"
    />
    <meta
      name="keywords"
      content="월 배당금 계산, 배당금 파이프라인, 재정적 자유, 배당주 투자 시뮬레이션, 배당금 목표, 적립식 배당 투자, 은퇴 자금, 고배당주, 배당수익률 계산"
    />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/manifest.json" />

    <style>
      body {
        font-family: "Noto Sans KR", sans-serif;
        margin: 0;
        padding: 20px;
        background-color: #f0f2f5;
        color: #333;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
        box-sizing: border-box;
      }
      @import url("https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap");

      .container {
        background-color: #ffffff;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        width: 100%;
        max-width: 600px;
        text-align: center;
        box-sizing: border-box;
        margin-bottom: 20px;
      }
      h1 {
        color: #2c3e50;
        font-size: 2.2em;
        margin-bottom: 10px;
        font-weight: 700;
      }
      h2 {
        color: #34495e;
        font-size: 1.3em;
        margin-bottom: 30px;
        font-weight: 400;
      }
      .input-group {
        margin-bottom: 20px;
        text-align: left;
      }
      label {
        display: block;
        margin-bottom: 8px;
        font-weight: bold;
        color: #555;
      }
      input[type="number"] {
        width: calc(100% - 20px);
        padding: 12px 10px;
        border: 1px solid #ddd;
        border-radius: 8px;
        font-size: 1.1em;
        box-sizing: border-box;
        -moz-appearance: textfield;
      }
      input[type="number"]::-webkit-outer-spin-button,
      input[type="number"]::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }

      .input-hint {
        font-size: 0.9em;
        color: #777;
        margin-top: 5px;
      }
      .info-box {
        background-color: #e6f7ff;
        border: 1px solid #91d5ff;
        border-radius: 8px;
        padding: 15px;
        margin-top: 25px;
        margin-bottom: 25px;
        text-align: left;
        font-size: 0.95em;
        line-height: 1.6;
      }
      .info-box h3 {
        margin-top: 0;
        color: #1890ff;
        font-size: 1.1em;
      }
      .info-box ul {
        list-style-type: disc;
        margin-left: 20px;
        padding-left: 0;
      }
      .info-box li {
        margin-bottom: 5px;
      }

      button {
        background-color: #52c41a;
        color: white;
        padding: 15px 25px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1.2em;
        font-weight: bold;
        transition: background-color 0.3s ease;
        width: 100%;
      }
      button:hover {
        background-color: #409a15;
      }
      #results {
        margin-top: 30px;
        padding: 20px;
        background-color: #e8f5e9;
        border-radius: 10px;
        text-align: left;
        border: 1px solid #d0e7d0;
      }
      #results p {
        margin-bottom: 10px;
        font-size: 1.1em;
        line-height: 1.6;
        color: #333;
      }
      #results p strong {
        color: #28a745;
        font-size: 1.1em;
      }
      #results .highlight {
        font-size: 1.3em;
        font-weight: bold;
        color: #1a73e8;
      }
      #results .error-message {
        color: #d32f2f;
        font-weight: bold;
      }
      footer {
        margin-top: auto;
        padding-top: 20px;
        color: #777;
        font-size: 0.9em;
        text-align: center;
      }
      footer a {
        color: #1a73e8;
        text-decoration: none;
      }
      footer a:hover {
        text-decoration: underline;
      }
      /* Ad space placeholder */
      .ad-space {
        width: 100%;
        max-width: 500px;
        height: 100px;
        background-color: #e0e0e0;
        margin-top: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #666;
        border: 1px dashed #ccc;
        font-size: 0.9em;
      }

      /* Responsive design */
      @media (max-width: 600px) {
        body {
          padding: 15px;
        }
        .container {
          padding: 20px;
        }
        h1 {
          font-size: 1.9em;
        }
        h2 {
          font-size: 1.2em;
        }
        button {
          font-size: 1.1em;
          padding: 12px 20px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>DiviYield</h1>
      <h2>나만의 배당금 파이프라인 시뮬레이터</h2>

      <div class="info-box">
        <h3>예상 배당수익률 가이드</h3>
        <p>
          목표 배당수익률 입력 시 참고하세요. 실제 수익률은 시장 상황에 따라
          달라집니다.
        </p>
        <ul>
          <li><strong>고배당주 (일반적):</strong> 4% ~ 8%</li>
          <li><strong>성장주 기반 배당:</strong> 1% ~ 3%</li>
          <li><strong>배당성장주:</strong> 2% ~ 5%</li>
          <li><strong>리츠 (REITs):</strong> 5% ~ 10%</li>
        </ul>
      </div>

      <form id="dividendForm">
        <div class="input-group">
          <label for="monthlyGoal">월 목표 배당금 (세전, 원):</label>
          <input
            type="number"
            id="monthlyGoal"
            placeholder="예: 1000000 (100만원)"
            required
            min="1000"
          />
          <p class="input-hint">
            매월 받고 싶은 배당금 목표 금액을 입력하세요.
          </p>
        </div>

        <div class="input-group">
          <label for="expectedYield">예상 연평균 배당수익률 (%):</label>
          <input
            type="number"
            id="expectedYield"
            placeholder="예: 4.5 (4.5%)"
            required
            min="0.1"
            step="0.1"
          />
          <p class="input-hint">
            연간 기대하는 배당수익률을 입력하세요. (소수점 첫째 자리까지 가능)
          </p>
        </div>

        <div class="input-group">
          <label for="initialInvestment">초기 투자 원금 (원):</label>
          <input
            type="number"
            id="initialInvestment"
            placeholder="예: 50000000 (5천만원)"
            required
            min="0"
          />
          <p class="input-hint">현재 투자할 수 있는 초기 자금을 입력하세요.</p>
        </div>

        <div class="input-group">
          <label for="monthlyAddition">월 추가 투자 원금 (원):</label>
          <input
            type="number"
            id="monthlyAddition"
            placeholder="예: 500000 (50만원)"
            required
            min="0"
          />
          <p class="input-hint">
            매월 추가적으로 투자할 수 있는 금액을 입력하세요. (0원도 가능)
          </p>
        </div>

        <button type="submit">목표 달성 시뮬레이션</button>
      </form>

      <div id="results">
        <p>입력값을 넣고 "목표 달성 시뮬레이션" 버튼을 눌러주세요.</p>
      </div>

      <div class="ad-space">
        <p>[광고 영역 - Google AdSense]</p>
      </div>
    </div>

    <footer>
      <p>&copy; 2025 DiviYield. All rights reserved.</p>
      <p>
        면책 조항: 본 시뮬레이터는 예상치를 제공하며 실제 투자 결과와는 차이가
        있을 수 있습니다. 투자 결정은 본인의 판단 하에 이루어져야 합니다.
        <a href="#">프리미엄 기능 둘러보기</a>
      </p>
    </footer>

    <script>
      const monthlyGoalInput = document.getElementById("monthlyGoal");
      const expectedYieldInput = document.getElementById("expectedYield");
      const initialInvestmentInput =
        document.getElementById("initialInvestment");
      const monthlyAdditionInput = document.getElementById("monthlyAddition");
      const dividendForm = document.getElementById("dividendForm");
      const resultsDiv = document.getElementById("results");

      const TAX_RATE = 0.154; // 한국 배당소득세율 (지방소득세 포함)

      // Load saved data from localStorage on page load
      document.addEventListener("DOMContentLoaded", () => {
        const savedMonthlyGoal = localStorage.getItem("diviyield_monthlyGoal");
        const savedExpectedYield = localStorage.getItem(
          "diviyield_expectedYield"
        );
        const savedInitialInvestment = localStorage.getItem(
          "diviyield_initialInvestment"
        );
        const savedMonthlyAddition = localStorage.getItem(
          "diviyield_monthlyAddition"
        );

        if (savedMonthlyGoal) monthlyGoalInput.value = savedMonthlyGoal;
        if (savedExpectedYield) expectedYieldInput.value = savedExpectedYield;
        if (savedInitialInvestment)
          initialInvestmentInput.value = savedInitialInvestment;
        if (savedMonthlyAddition)
          monthlyAdditionInput.value = savedMonthlyAddition;

        // Optional: Auto-calculate if all fields are pre-filled
        if (
          savedMonthlyGoal &&
          savedExpectedYield &&
          savedInitialInvestment &&
          savedMonthlyAddition
        ) {
          calculateDividendPipeline();
        }
      });

      dividendForm.addEventListener("submit", function (event) {
        event.preventDefault();
        calculateDividendPipeline();
      });

      function calculateDividendPipeline() {
        const monthlyGoal = parseFloat(monthlyGoalInput.value);
        const expectedYield = parseFloat(expectedYieldInput.value) / 100; // Convert percentage to decimal
        let currentInvestment = parseFloat(initialInvestmentInput.value);
        const monthlyAddition = parseFloat(monthlyAdditionInput.value);

        // Save current inputs to localStorage
        localStorage.setItem("diviyield_monthlyGoal", monthlyGoal);
        localStorage.setItem("diviyield_expectedYield", monthlyGoalInput.value); // Store as entered (e.g., 4.5)
        localStorage.setItem("diviyield_initialInvestment", currentInvestment);
        localStorage.setItem("diviyield_monthlyAddition", monthlyAddition);

        if (
          isNaN(monthlyGoal) ||
          monthlyGoal <= 0 ||
          isNaN(expectedYield) ||
          expectedYield <= 0 ||
          isNaN(currentInvestment) ||
          currentInvestment < 0 ||
          isNaN(monthlyAddition) ||
          monthlyAddition < 0
        ) {
          resultsDiv.innerHTML =
            '<p class="error-message">모든 입력값을 올바르게 채워주세요. 목표 배당금과 예상 수익률은 0보다 커야 합니다.</p>';
          return;
        }

        // 월 목표 배당금을 위한 세전 연간 필요 투자 원금 계산
        // (월 목표 배당금 / (1 - 세금률)) * 12개월 / 연평균 배당수익률
        const annualPreTaxDividendGoal = (monthlyGoal / (1 - TAX_RATE)) * 12;
        const requiredPrincipalForGoal =
          annualPreTaxDividendGoal / expectedYield;

        let monthsToReachGoal = 0;
        let currentAnnualDividend = currentInvestment * expectedYield;
        let currentMonthlyDividend =
          (currentAnnualDividend / 12) * (1 - TAX_RATE); // 세후 월 배당금

        if (currentMonthlyDividend >= monthlyGoal) {
          resultsDiv.innerHTML = `
                    <p>축하합니다! 현재 투자 원금으로 이미 <strong class="highlight">${monthlyGoal.toLocaleString(
                      "ko-KR",
                      { maximumFractionDigits: 0 }
                    )}원</strong>의 월 목표 배당금을 달성했습니다.</p>
                    <p>현재 예상되는 월 세후 배당금: <strong>${currentMonthlyDividend.toLocaleString(
                      "ko-KR",
                      { maximumFractionDigits: 0 }
                    )}원</strong></p>
                    <p>필요한 총 투자 원금 (세전 배당 기준): ${requiredPrincipalForGoal.toLocaleString(
                      "ko-KR",
                      { maximumFractionDigits: 0 }
                    )}원</p>
                `;
          return;
        }

        // 시뮬레이션
        for (let i = 0; i < 600; i++) {
          // 최대 50년(600개월) 시뮬레이션
          monthsToReachGoal++;
          currentInvestment += monthlyAddition; // 월 추가 투자
          currentAnnualDividend = currentInvestment * expectedYield;
          currentMonthlyDividend =
            (currentAnnualDividend / 12) * (1 - TAX_RATE); // 세후 월 배당금

          if (currentMonthlyDividend >= monthlyGoal) {
            break;
          }
        }

        let resultHtml = `
                <p>월 <strong class="highlight">${monthlyGoal.toLocaleString(
                  "ko-KR",
                  { maximumFractionDigits: 0 }
                )}원</strong>의 배당금을 위해 필요한 총 투자 원금은 (세전 배당 기준) 약 <strong class="highlight">${requiredPrincipalForGoal.toLocaleString(
          "ko-KR",
          { maximumFractionDigits: 0 }
        )}원</strong>입니다.</p>
            `;

        if (monthsToReachGoal >= 600) {
          resultHtml += `<p class="error-message">입력하신 조건으로는 50년 이내에 월 목표 배당금 <strong class="highlight">${monthlyGoal.toLocaleString(
            "ko-KR",
            { maximumFractionDigits: 0 }
          )}원</strong> 달성이 어려울 수 있습니다. 목표를 조정하거나 투자 금액을 늘려보세요.</p>`;
        } else {
          const years = Math.floor(monthsToReachGoal / 12);
          const remainingMonths = monthsToReachGoal % 12;

          resultHtml += `
                    <p>현재 투자 계획 (초기 ${initialInvestment.toLocaleString(
                      "ko-KR",
                      { maximumFractionDigits: 0 }
                    )}원, 월 ${monthlyAddition.toLocaleString("ko-KR", {
            maximumFractionDigits: 0,
          })}원 추가)으로 월 목표 배당금을 달성하려면 약 <strong>${years}년 ${remainingMonths}개월 후</strong> 예상됩니다.</p>
                    <p>그때의 예상 총 투자 원금: <strong>${currentInvestment.toLocaleString(
                      "ko-KR",
                      { maximumFractionDigits: 0 }
                    )}원</strong></p>
                    <p>그때의 예상 월 세후 배당금: <strong>${currentMonthlyDividend.toLocaleString(
                      "ko-KR",
                      { maximumFractionDigits: 0 }
                    )}원</strong></p>
                `;
        }

        resultsDiv.innerHTML = resultHtml;
      }
    </script>
  </body>
</html>
